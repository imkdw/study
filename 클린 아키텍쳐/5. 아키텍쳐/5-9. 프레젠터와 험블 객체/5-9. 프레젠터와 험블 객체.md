# 험블 객체 패턴

- 디자인 패턴으로 테스트하기 어려운 행위와 테스트하기 쉬운 행위를 단위 테스트 작성자가 분리하기 쉽게 하는 방법
- 행위들을 두 개의 모듈 또는 클래스로 나누는데, 이들 모듈 중 하나 험블임
- 가장 기본적인 본질은남기고 테스트하기 어려운 행위를 모두 험블 객체로 옮김

<br>

# 테스트와 아키텍쳐

- 행위를 테스트하기 쉬운 부분과 테스트하기 어려운 부분으로 분리하면 아키텍쳐 경계가 정의된다

<br>

# 데이터베이스 게이트웨이

- 다형적 인터페이스로 앱이 모든 디비에 수행하는 CRUD와 관련된 모든 작업을 포함한다
  - 만약 어제 로그인한 유저를 조회한다면 `getLastNamesOfUsersWhoLoggedInAfter` 메소드가 있을거다
- 유스케이스 계층은 SQL을 허용하지 않는다
- 유스케이스 게층은 필요한 메소드를 제공하는 게이트웨이 인터페이스를 호출한다
- 인터렉터는 앱에 특화된 업무 규칙을 캡슐화하기 때문에 험블 객체가 아니다
  - 만약 해당 부분에 대해서 테스트가 필요한 경우 게이트웨는 스텁이나 테스트 더블로 대체가 가능하다

<br>

# 데이터 매퍼

- RDBMS 테이블에서 가져온 데이터를 객체로 바꿔주는 역할을 담당함
- ORM(Object Relational Mapper) 같은건 사실 존재하지않고 데이터 매퍼가 이에 해당한다
- ORM은 게이트웨이 인터페이스와 데이터베이스 사이에서 일종의 또 다른 험블 객체 경계를 형성해준다

<br>

# 서비스 리스너

- 앱은 데이터를 간단한 데이터 구조 형태로 로드한다
- 이 데이터 구조를 경계를 가로질러서 특정 모듈로 전달하게된다
- 반대로 외부로부터 데이터를 수신하는 서비스의 경우는 서비스 리스너가 서비스 인터페이스로부터 데이터를 수신하고, 데이터를 앱에서 사용할 수 있는 간단 데이터 구조로 포맷을 변경하게된다
