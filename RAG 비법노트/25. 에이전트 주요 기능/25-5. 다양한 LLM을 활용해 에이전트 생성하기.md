# 다양한 LLM을 활용해 에이전트 생성하기
- OpenAI, Claude, Ollama 등 다양한 LLM을 통해 에이전트 구성이 가능함

```python
from langchain.tools import tool
from typing import List, Dict
from langchain_teddynote.tools import GoogleNews
from langchain_openai import ChatOpenAI
from langchain_ollama import ChatOllama
from langchain.agents import create_tool_calling_agent
from langchain.agents import AgentExecutor


@tool
def search_news(query: str) -> List[Dict[str, str]]:
    """Search Google News by input keyword"""
    news_tool = GoogleNews()
    return news_tool.search_by_keyword(query, k=5)


def execute_agent(llm, tools, input_text, label):
    agent = create_tool_calling_agent(llm, tools, prompt)
    executor = AgentExecutor(agent=agent, tools=tools, verbose=False)
    result = executor.invoke({"input": input_text})
    print(f"[{label}] 결과입니다.")
    if isinstance(result["output"], list) and len(result["output"]) > 0:
        for item in result["output"]:
            if "text" in item:
                print(item["text"])
    elif isinstance(result["output"], str):
        print(result["output"])
    else:
        print(result["output"])


tools = [search_news]

from langchain_core.prompts import ChatPromptTemplate
from langchain.agents import create_tool_calling_agent

prompt = ChatPromptTemplate.from_messages(
    [
        (
            "system",
            "You are a helpful assistant. "
            "Make sure to use the `search_news` tool for searching keyword related news.",
        ),
        ("placeholder", "{chat_history}"),
        ("human", "{input}"),
        ("placeholder", "{agent_scratchpad}"),
    ]
)


gpt = ChatOpenAI(model="gpt-4o-mini", temperature=0)

exaone = ChatOllama(model="exaone3.5:7.8b", temperature=0)

qwen = ChatOllama(model="qwen:0.5b", temperature=0)


gpt_agent = create_tool_calling_agent(gpt, tools, prompt)
exaone_agent = create_tool_calling_agent(exaone, tools, prompt)
qwen_agent = create_tool_calling_agent(qwen, tools, prompt)

query = (
    "AI 투자와 관련된 뉴스를 검색하고, 결과를 Instagram 게시글 형식으로 작성해 주세요."
)

execute_agent(gpt, tools, query, "gpt")
execute_agent(exaone, tools, query, "exaone")
execute_agent(qwen, tools, query, "qwen")

# ollama._types.ResponseError: registry.ollama.ai/library/exaone3.5:7.8b does not support tools (status code: 400)
# 툴 지원을 안하는 LLM이 있어서 테스트 패스
```