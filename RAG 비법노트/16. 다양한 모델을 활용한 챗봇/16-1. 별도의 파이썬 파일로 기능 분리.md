# 별도의 파이썬 파일로 기능 분리
- 파일을 여러개로 분리해서 각각 책임 할당이 가능함

<br>

### app.py
```python
import streamlit as st

# 외부 파일에서 가져오기
from retriever import create_retriever

st.title("LOCAL MODEL RAG")
```

<br>

### retriever.py
```python
from langchain_text_splitters import RecursiveCharacterTextSplitter
from langchain_community.document_loaders import PDFPlumberLoader
from langchain_community.vectorstores import FAISS
from langchain_openai import OpenAIEmbeddings


def create_retriever(file_path):
    loader = PDFPlumberLoader(file_path)
    docs = loader.load()

    text_splitter = RecursiveCharacterTextSplitter(chunk_size=1000, chunk_overlap=50)
    split_documents = text_splitter.split_documents(docs)

    embeddings = OpenAIEmbeddings()

    vectorstore = FAISS.from_documents(documents=split_documents, embedding=embeddings)

    return vectorstore.as_retriever()
```
