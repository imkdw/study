# 부분 변수 활용하기
- 주로 함수를 사용해서 프롬프트의 일부를 미리 설정하는 것임
- 날짜나 시간처럼 항상 동일한 방식으로 처리해야 하는 변수가 있을 때 유용함
- 프롬프트에 하드코딩하거나 매번 다른 입력 변수와 함께 전달하는건 매우 귀찮음

```python
from datetime import datetime
from langchain_openai import ChatOpenAI
from langchain_core.prompts import PromptTemplate
from dotenv import load_dotenv

load_dotenv()

llm = ChatOpenAI(model="gpt-4o-mini", temperature=0.1)


def get_today():
    return datetime.now().strftime("%B %d")


prompt = PromptTemplate(
    template="오늘의 날짜는 {today} 입니다. 오늘이 생일인 유명인 {n}명을 나열해 주세요. 생년월일을 표기해주세요.",
    input_variables=["n"],
    partial_variables={
        "today": get_today  # 미리 정의한 함수를 사용해서 오늘의 날짜를 가져옴
    },
)
# 오늘의 날짜는 August 01 입니다. 오늘이 생일인 유명인 3명을 나열해 주세요. 생년월일을 표기해주세요.
print(prompt.format(n=3))

chain = prompt | llm

"""
8월 1일에 태어난 유명인:

1. **루이스 암스트롱 (Louis Armstrong)** - 1901년 8월 4일
2. **미국의 작가 (Author)** - 1943년 8월 1일
3. **제이슨 오마라 (Jason O'Mara)** - 1972년 8월 1일
"""
print(chain.invoke(3).content)
```