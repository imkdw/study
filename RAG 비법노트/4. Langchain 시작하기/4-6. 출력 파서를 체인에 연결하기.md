# 출력 파서
- LLM이 생성한 출력 결과를 필요에 맞게 가공하고 구조화하는 단계
- 특정 데이터 또는 패턴을 추출하거나 사용자의 의도에 맞게 답변을 다듬는 역할을 함

<br>

# 출력 파서로 문자열로 답변 출력하기
```python
from langchain_openai import ChatOpenAI
from dotenv import load_dotenv
from langchain_teddynote.messages import stream_response
from langchain_core.prompts import PromptTemplate
from langchain_core.output_parsers import StrOutputParser


load_dotenv()


output_parser = StrOutputParser()
prompt = PromptTemplate.from_template("{topic} 에 대해 {how} 설명해주세요.")
model = ChatOpenAI(model="gpt-4.1-nano", temperature=0.1)

"""
  # 은 프롬프트 지시 사항과 주어진 상황을 구분하기 위한 특수 기호
"""
template = """
당신은 영어를 가르치는 10년차 영어 선생님입니다. 주어진 상황에 맞는 영어 회화를 작성해 주세요.
양식은 [FORMAT]을 참고하여 작성해 주세요.

# 상황:
{question}

# FORMAT:
- 영어 회화:
- 한글 해석:
"""

prompt = PromptTemplate.from_template(template)

model = ChatOpenAI(model_name="gpt-4.1-nano")

output_parser = StrOutputParser()

chain = prompt | model | output_parser

"""
- 영어 회화:  
"Hi, could I see the menu, please?"  
"I'd like to order the grilled chicken salad, please."  
"Can I get a glass of water?"  
"Excuse me, could I have the bill, please?"  

- 한글 해석:  
"안녕하세요, 메뉴를 보여주시겠어요?"  
"그릴드 치킨 샐러드 주문할게요."  
"물 한 잔 주세요."  
"실례지만, 계산서 주세요."
"""
print(chain.invoke({"question": "저는 식당에 가서 음식을 주문하고 싶어요"}))
```