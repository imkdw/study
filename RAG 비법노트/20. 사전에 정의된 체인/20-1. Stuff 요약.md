# Stuff 요약
- 문서 체인 중 가장 간단한 방식
- 문서 목록을 가져와서 모두 프롬프트에 삽입해서 그 프롬프트를 LLM에게 전달함
- 문서가 작고 한 번의 호출에서 처리해야 하는 문서의 수가 적은 앱에 적합함
- 코드를 구현하기 매우 단순하고 사용하기 쉽지만 LLM이 업로드한 문서 전체를 받아들일 수 있는 입력 컨텍스트를 가져야하는 제약이 있음
- 요즘에는 모델이 많이 발당해서 A4 용지 50~100페이지 정도는 한 번에 요약이 가능함. 다만 매번 응답이 달라서 품질이 떨어질 수 있음

```python
from langchain_community.document_loaders import TextLoader
from langchain_core.prompts import PromptTemplate
from langchain_ollama import ChatOllama
from langchain.chains.combine_documents import create_stuff_documents_chain
from langchain_teddynote.callbacks import StreamingCallback

loader = TextLoader(
    "/Users/imkdw/study/RAG 비법노트/18. 리랭커로 검색된 문서 순위 조정하기/appendix-keywords.txt"
)
docs = loader.load()

prompt = PromptTemplate.from_template(
    """Please summarize the sentence according to the following REQUEST.
REQUEST:
1. Summarize the main points in bullet points in KOREAN.
2. Each summarized sentence must start with an emoji that fits the meaning of the each sentence.
3. Use various emojis to make the summary more interesting.
4. Translate the summary into KOREAN if it is written in ENGLISH.
5. DO NOT translate any technical terms.
6. DO NOT include any unnecessary information.

CONTEXT:
{context}

SUMMARY:"
"""
)


llm = ChatOllama(
    model="exaone3.5:7.8b",
    streaming=True,
    temperature=0,
    callbacks=[StreamingCallback()],
)


stuff_chain = create_stuff_documents_chain(llm, prompt)

# - 📚 **의미론적 검색**: 사용자 의도 이해를 넘어 의미 기반 결과 제공 (예: "태양계 행성" → "목성", "화성")
# - 🔍 **임베딩**: 텍스트를 벡터로 변환하여 컴퓨터 이해 지원 (예: "사과" → `[0.65, -0.23, 0.17]`)
# - 🧵 **토큰**: 텍스트를 단어 단위로 분할 (예: "나는 학교에 간다" → "나는", "학교에", "간다")
# - 🔧 **토크나이저**: 텍스트를 토큰으로 자동 분할 (예: "I love programming." → ["I", "love", "programming", "."])
# - 🌐 **벡터스토어**: 벡터 데이터 고속 저장 및 검색 시스템 (예: 단어 임베딩 벡터 저장)
# - 💻 **SQL**: 데이터베이스 데이터 관리 언어 (예: `SELECT * FROM users WHERE age > 18`)
# - 📊 **CSV**: 쉼표로 구분된 값 데이터 형식 (예: 이름, 나이, 직업 데이터)
# ...
answer = stuff_chain.invoke({"context": docs})
```