# 발행/구독 패턴

- pub/sub 또는 분산된 옵저버 패턴으로 잘 알려진 단방향 메세징 패턴
- 수신자는 메세지 수신에 대한 관찰을 등록
- 게시자는 모든 관련 구독자에게 배포되는 메세지 생성
- 메세지 브로커를 사용하게 되면 양면이 느슨하게 결합되어 분산시스템의 노드를 통합하는데 이상적임

<br/>

# 큐를 통한 안정적인 메세지 전달

- 메세징 시스템에서 가장 중요한 추상화는 메세지 큐임
- 대기열을 통해서 발신자, 수신자가 동시에 활성되어 연결될 필요가 없어짐
- 시스템은 메세지 큐를 사용해서 가입자가 연겳이 끊어져 있는 동안 메세지를 쌓아놔야함

<br/>

### AMQP

- 메세지 큐는 미션크리티컬한 앱을 포함해서 메세지가 손실되면 안되는 상황에서 사용됨
- AMQP는 많은 메세지 대기열 시스템에서 지원하는 개방형 표준 프로토콜임

<br/>

# 스트림을 통한 안정적인 메세징

- 순서가 지정되고 추가전용인 영구적 데이터 구조
- 메세지는 항상 스트림의 끝에 추가되고, 큐와 달리 소비될 때 자동으로 삭제되지 않음
- 데이터 브로커 보다는 데이터 저장소와 더 유사함
- 스트림은 레코드를 소비자가 가져오고, 자신이 처리할 수 있을 만큼 가져옴
- 도중에 소비자가 중지됬다가 다시 실행되면 이전에 처리하고 남은 지점부터 처리를 시작함

<br/>

### 스트림 vs 메세지 대기열

- 스트림
  - 소비자가 메세지를 일괄처리방식 또는 과거 메세지의 상관관계를 찾아야 할수도있는 순차적인 데이터를 처리해야하는 경우
