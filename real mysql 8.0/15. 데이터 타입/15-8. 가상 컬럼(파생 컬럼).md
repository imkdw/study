# 가상 컬럼

- 크게 가상 컬럼과 스토어드 컬럼으로 구분됨
- 두 개의 컬럼 모두 AS 절로 계산식을 정의하고, 마지막 키워드가 STORED라면 스토어드고 나머진 가상이다

<br>

# 가상 컬럼

- 컬럼의 값이 디스크에 저장되지 않음
- 컬럼의 구조 변경은 테이블 리빌드를 필요하지 않음
  - 단 인덱스가 구성된 컬럼의 경우는 리빌드를 요구함
- 컬럼의 값은 레코드가 읽히기 전이나 before 트리거 실행 직후에 계산되서 만들어짐
- 함수 기반 인덱스는 가상 컬럼을 기반으로 동작함

<br>

# 스토어드 컬럼

- 컬럼의 값이 물리적으로 저장됨
- 컬럼의 구조 변경은 테이블 리빌드가 필요함
- insert, update 시점에만 컬럼의 값이 계산됨

<br>

# 언제 써야될까

- 계산 과정이 빠르지만 데이터가 저장공간을 많이 사용하면 스토어드보다 가상이 좋음
- 계산 과정이 복잡하고 시간이 오래 걸린다면 가상보다 스토어드가 좋음
- 결국 CPU를 더 써서 디스크를 낮출건지, CPU를 덜 쓰고 디스크를 높일건지에 대한 차이다
