# 언두 로그 및 리두 로그 암호화

- 디스크에 저장된 평문이 암호화 되어도, 리두/언두 로그는 모두 평문으로 저장됨
- 해당 로그 파일이 테이블이 아닌 외부 파일시스템에 저장되면 다 평문으로 저장됨
- `innodb_undo_log_encrypt`, `innodb_redo_log_encrypt`를 통해서 암호화여부 지정이 가능함

### 암호화 시점

- 기존에는 평문으로 저장되다가 암호화가 설정되는 순간부터 암호화되서 저장됨
- 비활성화 하면 마찬가지로 비활성화 한 이후부터 평문으로 저장됨
- 상황에 따라서는 며칠 또는 몇달동안 암호화키가 필요할수도 있음

<br/>

### 사용되는 키

- 각각의 테이블스페이스 키로 암호화됨
- 실제 테이블을 암호화하는 키가 아닌 새로운 테이블 스페이스키를 발급받아서 암호화함
- 발급된 키는 리두, 언두 로그파일의 헤더에 저장됨
