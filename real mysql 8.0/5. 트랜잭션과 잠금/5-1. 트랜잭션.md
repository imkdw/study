# MySQL의 트랜잭션

### MyISAM

- 트랜잭션이 실패해도 모든 데이터를 롤백하지 않음
- 1, 2, 3을 삽입하는 중에 1, 2는 성공, 3이 실패하면 1, 2는 그대로 추가됨
- 해당 현상은 부분 업데이트라고 부르며 정합성에 있어서 매우 골치아픔

### InnoDB

- 트랜잭션이 실패하면 모든 데이터를 롤백함
- 1, 2, 3을 삽입하는 중에 1, 2는 성공, 3이 실패하면 1, 2도 저장되지 않음
- 굳이 앱에서 클렌징코드를 추가하지 않아도 DB 자체에서 처리해줌

<br/>

# 주의사항

- 커넥션과 동일하게 꼭 필요한 최소의 코드에만 적용하는것이 좋음
- 이는 프로그램 코드에서 트랜잭션의 범위를 최소화 하라는 뜻임
- FTP, 네트워크 통신 등 무겁거나 오래걸리는 작업을 트랜잭션 사이에 넣으면 성능저하로 이어짐
