# 소프트웨어 패턴

- 패턴의 정의는 다양하고 풍부한데 거대한 숲 속에서 길을 잃지 않기 위해서 패턴의 보다는 용어 자체가 풍기는 뉘앙스를 이해하는게 중요함
- 패턴은 한 컨텍스트에서 유용한 동시에 다른 컨텍스트에서도 유용한 `아이디어`임
- `3의 규칙`이란게 존재하는데 이것은 서로 다른 시스템에 특별한 문제없이 적용할 수 있고 유용한 경우에만 패턴으로 간주한다

<br>

# 패턴

- 패턴이 지닌 가장 큰 가치는 경험을 통해서 축적된 실무 지식을 효과적으로 요약하고 전달할수 있다는 점이다
- 지식 전달과 커뮤니케이션의 수단으로 활용이 가능하므로 패턴에서 가장 중요한 요소는 이름이다
- `인터페이스 ... setter ...` 처럼 장황한 대화를 `STARATEGY` 패턴을 적용하자 라는 단순한 대화로 바꿀 수 있다

<br>

# 패턴 언어

- 패턴은 홀로 존재하지 않는다
- 연관된 패턴들의 집합들이 모여서 하나의 패턴 언어를 구성한다고 정의한다
- 또한 패턴 언어라는 용어가 지닌 제약 조건을 완화하기 위해서 `패턴 시스템`이라는 특수한 용어도 있지만 서로 비슷하다

<br>

# 패턴 분류

### 아키텍쳐 패턴

- 소프트웨어의 전체적인 구조를 결정하기 위해서 사용할 수 있는 패턴
- 미리 정의된 서브시스템들을 제공하고, 각 서브시스템들의 책임을 정의함
- 서브시스템들 사이의 관계를 조직화하는 규칙과 가이드라인을 포함함

<br>

### 이디엄

- 특정 프로그래밍 언어에만 국한된 하위 레벨 패턴으로, 주어진 언어의 기능을 통해서 구현하는 방법을 정의함
- 이디엄은 언어에 종속적이기 때문에 특정 언어의 이디엄이 다른 언어에서는 무용지물이 될수도 있음

<br>

### 분석패턴

- 도메인 내의 개념적인 문제를 해결하는데 초점을 두는 패턴
- 업무 모델링 시 발견되는 공통적인 구조를 표편하는 개념들의 집합이다

<br>

# 패턴과 책임-주도 설계

- 객체지향에서 제일 중요한건 올바른 책임을 올바른 객체에게 할당하고 객체 간의 유연한 협력관계를 구축하는것임
- 패턴은 공통으로 사용할 수 있는 역할, 책임, 협력의 템플릿이다
- 패턴들의 세부적인 내용이 중요한게 아닌 패턴을 따르면 특정한 상황에 적용할 수 있는 설계를 쉽게 빠르고 떠올릴수 있다
- 패턴을 구성하는 요소는 클래스가 아니라 역할인데, 이는 패턴 템플릿을 구현할 수 있는 다양한 방법이 존재한다는 뜻이다

<br>

# 캡슐화와 디자인 패턴

- 대부분의 디자인 패턴의 목적은 특정한 변경을 캡슐화 함으로써 유연하고 일관성있는 협력을 설계할 수 있는 경험을 공유하는 것이다
- 어떤 디자인 패턴이 어떤 변경을 캡슐화하는지 이해하는것이 중요하다

<br>

### 전략 패턴

- 이전의 영화 예매 시스템에선 영화 - 할인정책 사이에 `전략 패턴`이 적용되어있다
- 런타임에 유연하게 영화에 적용되는 할인 정책 변경이 가능한데 이를 `전략 패턴`이라고 부른다

<br>

### 템플릿 메소드 패턴

- 전략패턴과 다르게 영화를 `금액 할인정책 영화`, `퍼센트 할인정책 영화`로 분리한것을 템플릿 메소드 패턴이라고 한다
- 이는 알고리즘을 캡슐화하기 위해서 `합성 관계`가 아닌 `상속 관계`를 표현할 때 템플릿 메소드 패턴이라고 한다

<br>

### 데코레이터 패턴

- 이전의 핸드폰 과금 시스템 설계에서 나온 패턴이 데코레이터 패턴이다
- 이는 객체의 행동을 동적으로 추가할 수 있게 해주는 퍁천으로 기본적으로 객체의 행동을 결합하기 위해서 객체합성을 사용한다

<br>

# 패턴은 출발점이다

- 패턴은 설계의 목표가 돼서는 안되고, 단지 목표러 하는 설계에 이를 수 있는 방향을 제시하는 나침반에 불과하다
- 대부분 입문자가 빠지기 쉬운 함정은 패턴을 적용하는 컨텍스트의 적절성은 무시하고 패턴의 구조에만 초점을 맞추는 것이다
- 이러한 경우는 해결하려는 문제가 아니라 패턴이 제시하는 구조를 맹목적으로 따를때 불필요하게 복잡하고 난잡하며 유지보수가 어려운 시스템을 낳는다
- 아무리 사소한 설계라도 패턴을 적용해보려고 하는데, 명확한 트레이드오프 없이 패턴을 남용하면 설계가 복잡해진다
- 항상 설계를 좀 더 단순하고 명확하게 만들 수 있는 방법이 없는지를 고민하는게 좋다
