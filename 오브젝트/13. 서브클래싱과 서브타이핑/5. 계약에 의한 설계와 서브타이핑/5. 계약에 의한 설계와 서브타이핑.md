# 계약에 의한 설계

- 클라이언트와 서버 사이의 협력을 `의무`와 `이익`으로 구성된 계약의 관점에서 표현한것을 `계약에 의한 설계`라고 부른다
- 서브타입이 리스코프 치완 원칙을 위해서는 클라이언트와 슈퍼타입 간에 체결된 `계약`을 준수해야함
- 서브타입의 그것이 슈퍼타입을 대체가 가능해야 하고 클라이언트는 차이점을 인식하지 못한채 사용이 가능해야함

<br>

### 계약에 의한 설계를 구성하는 요소

- 사전조건 : 클라이언트가 정상적으로 메소드를 실행하기 위해 만족해야 하는 조건
- 사후조건 : 메소드가 실행된 후 서버가 클라이언트에게 보장해야 하는 조건
- 클래스 불변식 : 메소드 실행 전과 후에 만족시켜야 하는 식

<br>

# 서브타입과 계약

- 계약의 관점에서 상속이 초래하는 가장 큰 문제는 자식 클래스가 부모 클래스의 메소드를 오버라이딩할 수 있다는 것임
- 자식 클래스는 부모 클래스의 서브타입이 되기 위해서는 서브타입에 더 강력한 사전조건을 정의하면 안됨
- 서브타이핑을 위해 상속을 사용하고 있다면 부모 클래스가 클라이언트와 맺고있는 계약에 관해 깊게 고민이 필요함
